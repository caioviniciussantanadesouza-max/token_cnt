<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CNT — Centro Natural TEC Amazônia</title>

<style>
:root{
  --bg0:#000;
  --bg1:#050b10;
  --hud: rgba(110,210,255,.95);
  --hud2: rgba(110,210,255,.55);
  --stroke: rgba(110,210,255,.18);
  --glass: rgba(2,12,24,.46);
  --glass2: rgba(2,12,24,.28);
  --text: #c8f3ff;
  --muted:#86dcff;
  --shadow: 0 0 22px rgba(110,210,255,.14), 0 0 70px rgba(0,200,255,.08);
}

*{ box-sizing:border-box; }
html,body{
  margin:0;
  height:100%;
  background: radial-gradient(1200px 800px at 50% 20%, rgba(0,170,255,.16), transparent 60%),
              radial-gradient(900px 700px at 20% 85%, rgba(0,255,170,.10), transparent 55%),
              linear-gradient(180deg, var(--bg0), var(--bg1));
  color:var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial;
}

.wrap{
  max-width: 1320px;
  margin: 18px auto 26px;
  padding: 0 14px;
}

.card{
  background: linear-gradient(180deg, rgba(2,10,18,.72), rgba(2,10,18,.42));
  border: 1px solid var(--stroke);
  border-radius: 22px;
  box-shadow: var(--shadow);
  overflow:hidden;
}

.header{
  padding: 18px 18px 14px;
  text-align:center;
}
.h1{
  font-size: clamp(26px, 3.2vw, 44px);
  letter-spacing: .6px;
  margin: 6px 0 4px;
  font-weight: 800;
}
.sub{
  color: var(--muted);
  opacity:.95;
  margin: 0 0 10px;
  font-size: 15px;
}

.pills{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:center;
  padding-bottom: 10px;
}
.pill{
  border:1px solid var(--stroke);
  background: rgba(0,0,0,.22);
  color: var(--text);
  padding: 8px 12px;
  border-radius: 999px;
  font-size: 13px;
  opacity:.96;
}

.grid{
  display:grid;
  grid-template-columns: 320px 1fr 320px;
  gap: 14px;
  margin-top: 14px;
}

.panel{
  padding: 14px;
}

.title{
  font-weight:800;
  letter-spacing:.5px;
  font-size: 18px;
  margin: 2px 0 10px;
}

.bigIndex{
  font-size: 64px;
  letter-spacing: 1px;
  margin: 0;
  line-height: 1;
}
.bigIndex small{ font-size: 18px; opacity:.85; }
.raw{
  margin: 8px 0 12px;
  color: var(--muted);
  font-size: 14px;
}

.rows{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.row{
  border:1px solid var(--stroke);
  border-radius: 16px;
  padding: 12px 12px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  background: rgba(0,0,0,.20);
}
.row b{ font-weight:800; }
.row span{ color: var(--text); opacity:.95; }

.subgrid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:10px;
  margin-top: 10px;
}
.badge{
  border:1px solid var(--stroke);
  border-radius: 16px;
  padding: 12px;
  background: rgba(0,0,0,.20);
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.badge b{ font-weight:800; }
.badge span{ color: var(--muted); font-weight:700; }

.mapWrap{
  padding: 14px;
}
.mapCard{
  position:relative;
  border-radius: 22px;
  border:1px solid var(--stroke);
  background: rgba(0,0,0,.18);
  overflow:hidden;
  min-height: 520px;
}
#mapCanvas{
  width:100%;
  height:100%;
  display:block;
}

.mapHUD{
  position:absolute;
  left: 14px;
  top: 14px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  z-index:5;
}
.tag{
  border:1px solid var(--stroke);
  background: rgba(0,0,0,.25);
  padding: 8px 10px;
  border-radius: 999px;
  font-size: 12px;
  color: var(--text);
}

.buyBox input{
  width:100%;
  padding: 12px 14px;
  border-radius: 16px;
  border:1px solid var(--stroke);
  background: rgba(0,0,0,.28);
  color: var(--text);
  font-size: 16px;
  outline: none;
}
.buyBox button{
  margin-top: 10px;
  width:100%;
  padding: 12px 14px;
  border-radius: 999px;
  border:1px solid var(--stroke);
  background: linear-gradient(180deg, rgba(120,220,255,.25), rgba(40,140,220,.14));
  color: var(--text);
  font-weight: 800;
  letter-spacing: .4px;
  cursor:pointer;
}
.buyBox button:active{ transform: translateY(1px); }

.est{
  margin-top: 10px;
  font-size: 14px;
  color: var(--muted);
}
.est b{
  display:block;
  color: var(--text);
  font-size: 26px;
  letter-spacing:.5px;
  margin-top: 2px;
}
.note{ font-size: 12px; opacity:.9; margin-top: 6px; }

.tele{
  margin-top: 12px;
}
.teleCanvas{
  width:100%;
  height: 120px;
  border-radius: 16px;
  border: 1px solid var(--stroke);
  background: rgba(0,0,0,.18);
  display:block;
}

.footerStatus{
  margin-top: 10px;
  color: var(--muted);
  font-size: 12.5px;
  opacity:.95;
}

hr.sep{
  border:none;
  border-top: 1px solid rgba(110,210,255,.10);
  margin: 12px 0;
}

@media (max-width: 980px){
  .grid{ grid-template-columns: 1fr; }
  /* ordem no mobile: MAPA -> ÍNDICE -> COMPRA/TELE */
  .col-map{ order: 1; }
  .col-left{ order: 2; }
  .col-right{ order: 3; }
  .mapCard{ min-height: 420px; }
  .bigIndex{ font-size: 58px; }
}
</style>
</head>

<body>
  <div class="wrap">
    <div class="card header">
      <div class="h1">CNT — Centro Natural TEC Amazônia</div>
      <div class="sub">Mapa ecológico real • Água (azul) • Vegetação (verde) • Transição (amarelo) • Desmatamento (vermelho)</div>
      <div class="pills">
        <div class="pill">Fonte: dados públicos governamentais</div>
        <div class="pill">Ano base: 2025</div>
        <div class="pill" id="pillPts">Holograma: carregando…</div>
        <div class="pill">Compra: Pump.fun</div>
      </div>
    </div>

    <div class="grid">
      <!-- ESQUERDA: ÍNDICES -->
      <div class="card panel col-left">
        <div class="title">CNT (índice único Brasil)</div>
        <p class="bigIndex"><span id="idxMain">--</span><small>/100</small></p>
        <div class="raw">RAW auditável: <b id="rawMain">--</b></div>

        <div class="rows">
          <div class="row"><b>A — Estado</b> <span id="A">--</span></div>
          <div class="row"><b>B — Tendência</b> <span id="B">--</span></div>
          <div class="row"><b>C — Estabilidade</b> <span id="C">--</span></div>
          <div class="row"><b>Grau</b> <span id="G">--</span></div>
        </div>

        <div class="title" style="margin-top:14px;">Sub-índices</div>
        <div class="subgrid">
          <div class="badge"><b>IBE</b><span id="IBE">--</span></div>
          <div class="badge"><b>IAB</b><span id="IAB">N/D</span></div>
          <div class="badge"><b>IBI</b><span id="IBI">--</span></div>
          <div class="badge"><b>HID</b><span id="HID">--</span></div>
          <div class="badge"><b>ENT</b><span id="ENT">--</span></div>
          <div class="badge"><b>PAN</b><span id="PAN">--</span></div>
        </div>

        <div class="footerStatus" id="status">Status: iniciando…</div>
      </div>

      <!-- CENTRO: MAPA -->
      <div class="card mapWrap col-map">
        <div class="mapCard">
          <canvas id="mapCanvas"></canvas>
          <div class="mapHUD">
            <div class="tag" id="tagBase">Base: …</div>
            <div class="tag" id="tagFPS">Render: …</div>
          </div>
        </div>
      </div>

      <!-- DIREITA: COMPRA + TELEMETRIA -->
      <div class="card panel col-right">
        <div class="title">COMPRAR CNT</div>
        <div style="color:var(--muted); font-size:14px; margin-bottom:10px;">Abre o token no Pump.fun.</div>

        <div class="buyBox">
          <div style="color:var(--muted); font-size:13px; margin-bottom:6px;">Contribuição</div>
          <input id="inpSol" inputmode="decimal" value="0,10" />
          <button id="btnBuy">Comprar no Pump</button>
          <div class="est">Estimativa: <b><span id="estOut">--</span> CNT</b>
            <div class="note">Estimativa demo (não é cotação real).</div>
          </div>
        </div>

        <hr class="sep"/>

        <div class="title">TELEMETRIA — Série 10 anos</div>
        <canvas class="teleCanvas" id="teleCanvas"></canvas>
        <div class="footerStatus" id="teleInfo">Histórico: 10 • Último (RAW): --</div>
      </div>
    </div>
  </div>

<script>
/* ===========================
   CONFIG
=========================== */
const PUMP_URL = "https://pump.fun/coin/GCVyjNaCbXkwGUuktyNxSXad4ozmTp2fzQr2jieSpump";

/* ===========================
   HELPERS
=========================== */
const $ = (id)=>document.getElementById(id);

const isMobile = matchMedia("(max-width: 980px)").matches;

function clamp(v, a, b){ return Math.max(a, Math.min(b, v)); }
function fmt(v, d=2){
  if (v===null || v===undefined || Number.isNaN(v)) return "--";
  return Number(v).toFixed(d).replace(".", ",");
}
function gradeFromIndex(x){
  if (x>=90) return "A";
  if (x>=80) return "B";
  if (x>=70) return "C";
  if (x>=60) return "D";
  return "E";
}

/* ===========================
   ASSET BASE DETECTION (resolve 404)
=========================== */
let ASSET_BASE = "/";

async function tryFetch(url){
  try{
    const r = await fetch(url, { cache: "no-store" });
    return r && r.ok;
  }catch(e){ return false; }
}

async function detectAssetBase(){
  // tenta onde geralmente quebra no GitHub Pages (root vs /token_cnt/)
  const bases = [
    location.pathname.replace(/[^\/]*$/, ""), // pasta atual
    "/", "/token_cnt/", "./"
  ];
  const probes = ["mapa_base.png", "vege_pts_sample.geojson", "dados_cnt.json"];

  for (const b of bases){
    for (const p of probes){
      const ok = await tryFetch((b.endsWith("/")?b:(b+"/")) + p);
      if (ok){
        ASSET_BASE = (b.endsWith("/")?b:(b+"/"));
        return ASSET_BASE;
      }
    }
  }
  ASSET_BASE = "/";
  return ASSET_BASE;
}

async function loadJSON(path){
  const url = ASSET_BASE + path;
  const r = await fetch(url, { cache: "no-store" });
  if(!r.ok) throw new Error("Falha ao carregar: " + url);
  return await r.json();
}

function loadImage(path){
  const url = ASSET_BASE + path;
  return new Promise((resolve, reject)=>{
    const img = new Image();
    img.onload = ()=>resolve(img);
    img.onerror = ()=>reject(new Error("Falha imagem: " + url));
    img.src = url;
  });
}

/* ===========================
   MAP PROJECTION (lon/lat -> pixel) with SAME FIT as base image (CONTAIN)
=========================== */
const BRAZIL_BBOX = { lonMin:-74.0, lonMax:-34.0, latMin:-34.5, latMax: 5.8 };

function calcContainRect(W,H, imgW,imgH){
  const s = Math.min(W/imgW, H/imgH);   // CONTAIN (igual pros pontos)
  const w = imgW*s, h = imgH*s;
  const x = (W - w)/2, y = (H - h)/2;
  return { x,y,w,h, s };
}

function lonLatToXY(lon, lat, rect, bbox=BRAZIL_BBOX){
  const nx = (lon - bbox.lonMin) / (bbox.lonMax - bbox.lonMin);
  const ny = 1 - (lat - bbox.latMin) / (bbox.latMax - bbox.latMin);
  return {
    x: rect.x + nx * rect.w,
    y: rect.y + ny * rect.h
  };
}

/* ===========================
   POINT CLASSIFICATION (tipologia -> 4 classes)
=========================== */
function classifyTipologia(t){
  const s = (t||"").toLowerCase();

  // água
  if (s.includes("água") || s.includes("lago") || s.includes("rio") || s.includes("mangue") || s.includes("aluvial")) return "agua";

  // desmatamento / urbano / mineração / solo exposto
  if (s.includes("minera") || s.includes("urb") || s.includes("solo exposto") || s.includes("desmat") || s.includes("queimada")) return "desmat";

  // transição (uso agropecuário/contato/segunda vegetação)
  if (s.includes("agric") || s.includes("pecu") || s.includes("past") || s.includes("culturas") || s.includes("vegetação secundária") || s.includes("contato") || s.includes("ecótono")) return "trans";

  // vegetação (default)
  if (s.includes("floresta") || s.includes("savana") || s.includes("campinarana") || s.includes("estepe") || s.includes("refúgio")) return "veg";

  return "veg";
}

function colorFor(kind){
  // neon
  if (kind==="agua") return { r: 60,  g: 170, b: 255 };
  if (kind==="veg")  return { r: 40,  g: 255, b: 170 };
  if (kind==="trans")return { r: 255, g: 220, b: 70  };
  return                { r: 255, g: 80,  b: 90  }; // desmat
}

/* ===========================
   CANVAS RENDER
=========================== */
const mapCanvas = $("mapCanvas");
const ctx = mapCanvas.getContext("2d", { alpha:true });

let baseImg = null;
let overlayImg = null;
let containRect = null;

let pts = []; // {x,y,kind,seed}
let counts = {agua:0, veg:0, trans:0, desmat:0};
let lastTime = performance.now();
let fps = 0;

function resizeMap(){
  const r = mapCanvas.getBoundingClientRect();
  const dpr = Math.min(2, window.devicePixelRatio || 1);
  mapCanvas.width = Math.floor(r.width * dpr);
  mapCanvas.height = Math.floor(r.height * dpr);
  ctx.setTransform(dpr,0,0,dpr,0,0);
  if (baseImg){
    containRect = calcContainRect(r.width, r.height, baseImg.naturalWidth||baseImg.width, baseImg.naturalHeight||baseImg.height);
  }
}
window.addEventListener("resize", ()=>{ resizeMap(); });

function drawBase(rw, rh){
  if (!baseImg) return;
  const rect = containRect;
  ctx.save();
  ctx.globalAlpha = 1;
  ctx.drawImage(baseImg, rect.x, rect.y, rect.w, rect.h);

  // opcional: overlay raster (ex prodes) com baixa opacidade
  if (overlayImg){
    ctx.globalAlpha = 0.18;
    ctx.drawImage(overlayImg, rect.x, rect.y, rect.w, rect.h);
  }

  // leve vinheta interna
  ctx.globalAlpha = 1;
  ctx.fillStyle = "rgba(0,0,0,.10)";
  ctx.fillRect(0,0,rw,rh);
  ctx.restore();
}

function drawHologram(t, rw, rh){
  // holograma: pontos + glow
  ctx.save();
  ctx.globalCompositeOperation = "lighter";

  // brilho suave geral
  ctx.globalAlpha = 0.20;
  ctx.fillStyle = "rgba(80,220,255,.10)";
  ctx.fillRect(0,0,rw,rh);

  // pontos
  ctx.globalAlpha = 1;
  for (let i=0;i<pts.length;i++){
    const p = pts[i];
    const c = colorFor(p.kind);

    const pulse = 0.55 + 0.45*Math.sin((t*0.004) + p.seed);
    const r = (p.kind==="desmat"? 1.8 : p.kind==="trans"? 1.6 : 1.4) + pulse*0.9;

    ctx.beginPath();
    ctx.fillStyle = `rgba(${c.r},${c.g},${c.b},${0.38 + 0.30*pulse})`;
    ctx.arc(p.x, p.y, r, 0, Math.PI*2);
    ctx.fill();

    // glow
    ctx.beginPath();
    ctx.fillStyle = `rgba(${c.r},${c.g},${c.b},${0.07 + 0.08*pulse})`;
    ctx.arc(p.x, p.y, r*3.4, 0, Math.PI*2);
    ctx.fill();
  }

  // linhas (HUD)
  ctx.globalCompositeOperation = "screen";
  ctx.globalAlpha = 0.10;
  ctx.strokeStyle = "rgba(110,210,255,.9)";
  ctx.lineWidth = 1;
  ctx.strokeRect(12, 12, rw-24, rh-24);

  ctx.restore();
}

function render(now){
  const dt = now - lastTime;
  lastTime = now;
  fps = fps*0.9 + (1000/Math.max(16,dt))*0.1;

  const rw = mapCanvas.getBoundingClientRect().width;
  const rh = mapCanvas.getBoundingClientRect().height;

  ctx.clearRect(0,0,rw,rh);
  drawBase(rw,rh);
  drawHologram(now, rw, rh);

  $("tagFPS").textContent = `Render: ${Math.round(fps)} fps`;
  requestAnimationFrame(render);
}

/* ===========================
   TELEMETRIA (canvas)
=========================== */
const tele = $("teleCanvas");
const tctx = tele.getContext("2d", { alpha:true });
let teleData = [12,18,16,30,26,22,20,10,18,19];

function resizeTele(){
  const r = tele.getBoundingClientRect();
  const dpr = Math.min(2, window.devicePixelRatio || 1);
  tele.width = Math.floor(r.width * dpr);
  tele.height = Math.floor(r.height * dpr);
  tctx.setTransform(dpr,0,0,dpr,0,0);
  drawTele();
}
window.addEventListener("resize", ()=>resizeTele());

function drawTele(){
  const w = tele.getBoundingClientRect().width;
  const h = tele.getBoundingClientRect().height;
  tctx.clearRect(0,0,w,h);

  // fundo
  tctx.fillStyle = "rgba(0,0,0,.18)";
  tctx.fillRect(0,0,w,h);

  // linha
  const pad = 14;
  const min = Math.min(...teleData);
  const max = Math.max(...teleData);
  const rng = Math.max(1, max-min);

  tctx.strokeStyle = "rgba(110,210,255,.95)";
  tctx.lineWidth = 2;

  tctx.beginPath();
  for (let i=0;i<teleData.length;i++){
    const x = pad + (w-2*pad) * (i/(teleData.length-1));
    const y = pad + (h-2*pad) * (1 - ((teleData[i]-min)/rng));
    if (i===0) tctx.moveTo(x,y); else tctx.lineTo(x,y);
  }
  tctx.stroke();

  // preenchimento leve
  tctx.globalAlpha = 0.15;
  tctx.fillStyle = "rgba(110,210,255,.9)";
  tctx.lineTo(w-pad, h-pad);
  tctx.lineTo(pad, h-pad);
  tctx.closePath();
  tctx.fill();
  tctx.globalAlpha = 1;
}

/* ===========================
   INDICES FROM COUNTS
=========================== */
function computeIndices(){
  const total = Math.max(1, counts.agua+counts.veg+counts.trans+counts.desmat);

  const pAgua  = counts.agua / total;
  const pVeg   = counts.veg  / total;
  const pTrans = counts.trans/ total;
  const pDesm  = counts.desmat/total;

  // Sub-índices (0-100)
  const IBE = clamp(pVeg*100, 0, 100);
  const IBI = clamp(pAgua*100, 0, 100);
  const HID = clamp((pAgua*80 + pVeg*20), 0, 100);
  const ENT = clamp(pTrans*100, 0, 100);
  const PAN = clamp(pDesm*100, 0, 100);

  // Índice principal (ex: vegetação pesa mais; transição e desmat penalizam)
  const raw = (IBE*0.85 + IBI*0.10) - (ENT*0.35 + PAN*0.70) + 25;
  const idx = clamp(raw, 0, 100);

  // tendência/estabilidade (demo coerente)
  const B = (idx - 70) * 0.02;            // - a +
  const C = clamp(1 - (ENT+PAN)/120, 0, 1);

  $("IBE").textContent = fmt(IBE,1);
  $("IBI").textContent = fmt(IBI,1);
  $("HID").textContent = fmt(HID,2);
  $("ENT").textContent = fmt(ENT,1);
  $("PAN").textContent = fmt(PAN,1);

  $("rawMain").textContent = fmt(raw,2);
  $("idxMain").textContent = fmt(idx,1);

  $("A").textContent = fmt(idx,2);
  $("B").textContent = fmt(B,2);
  $("C").textContent = fmt(C,2);
  $("G").textContent = gradeFromIndex(idx);

  // telemetria “segue” raw (demo)
  teleData = teleData.slice(1).concat([clamp(raw,0,100)]);
  drawTele();

  $("teleInfo").textContent = `Histórico: 10 • Último (RAW): ${fmt(raw,2)}`;
}

/* ===========================
   BUY (Pump)
=========================== */
function parseBRNumber(s){
  if(!s) return 0;
  return Number(String(s).replace(/\./g,"").replace(",",".").replace(/[^\d.]/g,"")) || 0;
}
function updateEstimate(){
  const sol = parseBRNumber($("inpSol").value);
  // demo: 0.10 SOL => 14.744.913 CNT (mantive seu número visual)
  const base = 14744913;
  const est = Math.round((sol/0.10) * base);
  $("estOut").textContent = est.toLocaleString("pt-BR");
}
$("inpSol").addEventListener("input", updateEstimate);
$("btnBuy").addEventListener("click", ()=>{
  window.open(PUMP_URL, "_blank", "noopener,noreferrer");
});

/* ===========================
   LOAD + PREPROJECT POINTS (PERFORMANCE)
=========================== */
async function main(){
  $("status").textContent = "Status: detectando base…";
  await detectAssetBase();

  $("tagBase").textContent = `Base: ${ASSET_BASE}`;

  // carrega mapa base (tenta fallback se não existir)
  try{
    baseImg = await loadImage("mapa_base.png");
  }catch(e1){
    try{
      baseImg = await loadImage("prodes_mosaic.png");
    }catch(e2){
      baseImg = null;
    }
  }

  // overlay opcional (prodes)
  try{
    overlayImg = await loadImage("prodes_mosaic.png");
  }catch(e){
    overlayImg = null;
  }

  // prepara canvas
  resizeMap();
  resizeTele();

  // escolhe geojson (leve no mobile)
  const geoFile = isMobile ? "vege_pts_sample.geojson" : "vege_pts.geojson";

  $("status").textContent = "Status: carregando pontos…";
  const geo = await loadJSON(geoFile);

  // recalcula containRect com a imagem base carregada
  const r = mapCanvas.getBoundingClientRect();
  if (baseImg){
    containRect = calcContainRect(r.width, r.height, baseImg.naturalWidth||baseImg.width, baseImg.naturalHeight||baseImg.height);
  }else{
    // sem base: usa canvas todo
    containRect = { x:0,y:0,w:r.width,h:r.height,s:1 };
  }

  // transforma pontos -> pixels (UMA vez)
  pts = [];
  counts = {agua:0, veg:0, trans:0, desmat:0};

  const features = geo.features || [];
  for (let i=0;i<features.length;i++){
    const f = features[i];
    const g = f.geometry;
    if (!g || g.type!=="Point") continue;
    const [lon,lat] = g.coordinates || [];
    if (typeof lon!=="number" || typeof lat!=="number") continue;

    const tip = (f.properties && (f.properties.tipologia || f.properties.classe || f.properties.type)) || "";
    const kind = classifyTipologia(tip);
    counts[kind]++;

    const xy = lonLatToXY(lon, lat, containRect, BRAZIL_BBOX);

    // evita desenhar fora do retângulo do mapa (segura “nuvem” fora do Brasil)
    if (xy.x < containRect.x || xy.x > (containRect.x+containRect.w) ||
        xy.y < containRect.y || xy.y > (containRect.y+containRect.h)) continue;

    pts.push({
      x: xy.x,
      y: xy.y,
      kind,
      seed: (i*0.017 + (lon*0.11) + (lat*0.13)) % (Math.PI*2)
    });
  }

  $("pillPts").textContent = `Holograma: GeoJSON (${pts.length.toLocaleString("pt-BR")} pts)`;

  computeIndices();
  updateEstimate();

  $("status").textContent = `Status: OK • Pontos: ${pts.length.toLocaleString("pt-BR")} • Base: ${ASSET_BASE}`;

  requestAnimationFrame(render);
}

main().catch(err=>{
  console.error(err);
  $("status").textContent = "Status: ERRO • " + (err && err.message ? err.message : "falha ao iniciar");
  $("pillPts").textContent = "Holograma: erro ao carregar";
});
</script>
</body>
</html>
